<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <style>
        html,
        body {
            height: 100%;
            width: 100%;
        }
    </style>
</head>

<body>
    <div class="h-100 w-100 bg-white py-4 px-5">
        <div class="w-100 d-flex justify-content-end">
            <a class="btn bg-danger py-2 px-4 text-white" href="/logout">Logout</a>
        </div>
        <h2 class="text-capitalize mb-3">Hello , <%= user.name %>üëãüèª</h2>
        <h4 class="mb-4 text-secondary">you can create a post.</h4>
        <form action="/post" method="post">
            <textarea placeholder="whats on your mind?"
                style="width: 40%; padding: 1vw; resize: none; outline: none; border-radius: 5px; border-color: #444444a1;"
                name="content"></textarea>
            <input type="submit" class="btn btn-primary py-2 px-4 d-block mt-2" value="create post">
        </form>

        <div class="posts w-100" style="margin-top: 6vw;">
            <h4 class="text-secondary mb-4">Your Posts.</h4>
            <div class="post-container d-flex gap-5 flex-wrap ">
                <% userPosts.reverse().forEach((i)=>{ %>
                    <div class="post mb-3"
                        style="background-color: #acdcde48; width:40%; padding: 1vw ; border-radius: 5px; border: 1px solid #acdcdebb;">

                        <div class="d-flex justify-content-between">
                            <h6 class="text-primary ">@<%= user.username %>
                            </h6>

                            <p class="text-secondary" style="font-size: 10px;">
                                <%=i.date %>
                            </p>
                        </div>
                        <p class="text-capitalize">
                            
                            <%= i.content %>.
                        </p>
                        <small style="color: rgb(47, 161, 47);"><%= i.likes.length %> like</small>
                        <div class="links d-flex gap-3 mt-1">
                            <a href="/like/<%= i._id %>" class="text-danger text-decoration-none"> <%= i.likes.indexOf(user._id) === -1 ? "Like" : "Unlike" %> </a>
                            <a href="" class="text-secondary text-decoration-none">edit</a>
                        </div>


                    </div>
                    <% }) %>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>